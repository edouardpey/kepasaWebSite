/*1462215306,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["qD\/TB"]); }

__d("GroupSellProductDetailsEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PHOTO_CLICK:"photo_click",SHOW_DIALOG:"show_dialog",HIDE_DIALOG:"hide_dialog",PROFILE_LINK_CLICK:"profile_link_click",GROUP_LINK_CLICK:"group_link_click",PERMALINK_CLICK:"permalink_click",ASYNC_DATA_REQUEST_FAIL:"async_data_request_fail",DIALOG_INSTANCE_NULL:"dialog_instance_null",MESSAGE_SELLER_CLICK:"message_seller_click",UFI_CLICK:"ufi_click",MARK_AS_SOLD_CLICK:"mark_as_sold_click",FAILED_SALE_POST_GEN:"failed_sale_post_gen"};},null);
__d("GroupSellProductDetailsImageAspect",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={HORIZONTAL:"horizontal",VERTICAL:"vertical",WIDE_HORIZONTAL:"wide_horizontal",WIDE_VERTICAL:"wide_vertical",SQUARE:"square",HEIGHT_BOUND:"height_bound"};},null);
__d("StoryRenderLocation",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={HOMEPAGE_STREAM:"homepage_stream",SUMMARY:"summary",ACTIVITY_LOG:"activity_log",BRIEF_ACTIVITY_LOG:"brief_activity_log",TIMELINE:"timeline",NEWSSTAND:"newsstand",GROUP:"group",EVENT:"event",NEWSSTAND_PERMALINK:"newsstand_permalink",TIMELINE_ENTSTREAM:"timeline_entstream",PERMALINK:"permalink",COVER_FEED:"cover_feed",BLENDED_SEARCH_RESULTS:"blended_search",FEED_MOBILE:"feed_mobile",HOME_BUBBLE:"home_bubble",FEED_IMMERSIVE:"feed_immersive",PERMALINK_IMMERSIVE:"permalink_immersive",TIMELINE_IMMERSIVE:"timeline_immersive",GROUP_IMMERSIVE:"group_immersive",COVER_IMMERSIVE:"cover_immersive",TIMELINE_CONTEXT:"timeline_context",EDIT_HISTORY:"edit_history",SNAPTU_FEED:"snaptu_feed",SNAPTU_TIMELINE:"snaptu_timeline",SIDE_FEED:"side_feed",MESSAGE_THREAD:"message_thread",PRESENCE_FEED:"presence_feed",APP_FEED:"app_feed",TRENDING_HOVERCARD:"trending_hovercard",SPACES_FEED:"spaces_feed",GAMETIME_HIGHLIGHTS:"gametime_highlights",VIDEO_CHANNEL:"video_channel",VIDEO_HOME_FEED:"video_home_feed",VIDEO_HOME:"video_home",GROUPS_LANDING:"groups_landing",BUY_AND_SELL:"buy_and_sell",APPENDABLE_PROMPT:"appendable_prompt",REVIEWS_FEED:"reviews_feed",TOPIC_FEED:"topic_feed",ADMIN_FEED:"admin_feed",BREAKUP_VIEW_POSTS_FEED:"breakup_view_posts_feed",LOCAL_SEARCH_RESULTS_PAGE:"local_search_results_page",PLACE_FEED:"place_feed",NATIVE_TEMPLATES:"native_templates",SEARCH_RESULTS_PAGE:"search_results_page",FUNDRAISER_PAGE:"fundraiser_page",REACTION_OVERLAY:"reaction_overlay",VIDEO_INSTREAM:"video_instream",UNSPECIFIED:"unspecified"};},null);
__d('UFIFeedbackContext.react',['React','UFICentralUpdates','UFIFeedbackTargets'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'UFIFeedbackContext',_feedbackTargetSubscriberID:null,propTypes:{contextArgs:h.object.isRequired,render:h.func.isRequired},contextTypes:{stores:h.object},getInitialState:function(){return {contextArgs:this.props.contextArgs,feedback:null};},loadFeedbackTarget:function(j){if(!this._feedbackTargetSubscriberID)this._feedbackTargetSubscriberID=c('UFIFeedbackTargets').getFeedbackTarget(j,function(k){this._fbTargetSubscriberID=null;this.setState({feedback:k});}.bind(this));},componentDidMount:function(){this.loadFeedbackTarget(this.state.contextArgs.ftentidentifier);this.ufiCentralUpdatesSubscriptions=[c('UFICentralUpdates').subscribe('instance-updated',function(j,k){var l=this.state.contextArgs;if(l.instanceid in k.updates)this.loadFeedbackTarget(l.ftentidentifier);}.bind(this)),c('UFICentralUpdates').subscribe('feedback-updated',function(j,k){var l=this.state.contextArgs;if(l.ftentidentifier in k.updates)this.loadFeedbackTarget(l.ftentidentifier);}.bind(this)),c('UFICentralUpdates').subscribe('feedback-id-changed',function(j,k){var l=this.state.contextArgs;if(l.ftentidentifier in k.updates){var m=k.updates[l.ftentidentifier];this.setState({contextArgs:babelHelpers['extends']({},l,{ftentidentifier:m})});this.loadFeedbackTarget(m);}}.bind(this))];},componentWillUnmount:function(){this.ufiCentralUpdatesSubscriptions.forEach(function(j){return j&&c('UFICentralUpdates').unsubscribe(j);});if(this._feedbackTargetSubscriberID)c('UFIFeedbackTargets').unsubscribe(this._feedbackTargetSubscriberID);},render:function(){if(this.state.feedback)return this.props.render(this.state.contextArgs,this.state.feedback);return null;}});f.exports=i;},null);
__d('UFIAddCommentController',['Parent','React','ReactDOM','UFIActionTypes','UFIAddComment.react','UFICallbackStore','UFIDispatcher','UFIDispatcherContext.react','UFIFeedbackContext.react','UFIInstanceState','UFINewCommentNotifier'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();h.factory=function(i,j){'use strict';new h(i,j);};function h(i,j){'use strict';this.$UFIAddCommentController1=i;this.$UFIAddCommentController2=j;this.$UFIAddCommentController2.rootid=i.id;this.$UFIAddCommentController3=new (c('UFIDispatcher'))();this.$UFIAddCommentController4={UFICallbackStore:new (c('UFICallbackStore'))(this.$UFIAddCommentController3)};this.$UFIAddCommentController4.UFICallbackStore.on(c('UFIActionTypes').ADD_COMMENT.SUBMIT_NEW,function(k){return c('UFINewCommentNotifier').onNewComment(c('Parent').byTag(i,'form'),this.$UFIAddCommentController2,k.comment,k.target,k.replyCommentID,k.timestamp);}.bind(this));this.render();}h.prototype.render=function(){'use strict';var i=c('React').createElement(c('UFIDispatcherContext.react'),{dispatcher:this.$UFIAddCommentController3,stores:this.$UFIAddCommentController4},c('React').createElement(c('UFIFeedbackContext.react'),{contextArgs:this.$UFIAddCommentController2,render:this.renderAddComment}));c('ReactDOM').render(i,this.$UFIAddCommentController1);};h.prototype.renderAddComment=function(i,j){'use strict';var k=c('UFIInstanceState').getKeyForInstance(i.instanceid,'isediting');if(k||!j||!j.cancomment||!j.actorforpost)return null;return (c('React').createElement(c('UFIAddComment.react'),{viewerActorID:j.actorforpost,replyCommentID:null,targetID:j.ownerid,initialData:null,ref:null,withoutSeparator:null,editingComment:{},isEditing:false,mentionsDataSource:j.mentionsdatasource,showSendOnEnterTip:j.showsendonentertip,allowPhotoAttachments:j.allowphotoattachments&&!i.islivestreaming,allowVideoAttachments:j.allowvideoattachments&&!i.islivestreaming,allowStickerAttachments:j.allowstickerattachments&&!i.islivestreaming,contextArgs:i,subtitle:j.subtitle,isQAndA:j.isqanda}));};f.exports=h;},null);
__d('GroupSellProductDetailActionsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:GroupSellProductDetailActionsLoggerConfig',this.$GroupSellProductDetailActionsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:GroupSellProductDetailActionsLoggerConfig',this.$GroupSellProductDetailActionsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$GroupSellProductDetailActionsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$GroupSellProductDetailActionsTypedLogger1=babelHelpers['extends']({},this.$GroupSellProductDetailActionsTypedLogger1,j);return this;};h.prototype.setEvent=function(j){this.$GroupSellProductDetailActionsTypedLogger1.event=j;return this;};h.prototype.setGroupID=function(j){this.$GroupSellProductDetailActionsTypedLogger1.group_id=j;return this;};h.prototype.setReferralSurface=function(j){this.$GroupSellProductDetailActionsTypedLogger1.referral_surface=j;return this;};h.prototype.setStoryID=function(j){this.$GroupSellProductDetailActionsTypedLogger1.story_id=j;return this;};h.prototype.setSurface=function(j){this.$GroupSellProductDetailActionsTypedLogger1.surface=j;return this;};h.prototype.setVC=function(j){this.$GroupSellProductDetailActionsTypedLogger1.vc=j;return this;};var i={event:true,group_id:true,referral_surface:true,story_id:true,surface:true,vc:true};f.exports=h;},null);
__d('GroupCommerceProductDetailImageContainer.react',['cx','DOM','Event','GroupSellProductDetailActionsTypedLogger','GroupSellProductDetailsEvent','GroupSellProductDetailsImageAspect','Image.react','React','Style','Vector'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=38,m=10,n=483;i=babelHelpers.inherits(o,c('React').Component);j=i&&i.prototype;function o(p,q){j.constructor.call(this,p,q);var r=this;r.$GroupCommerceProductDetailImageContainer2=this.$GroupCommerceProductDetailImageContainer2.bind(this);r.$GroupCommerceProductDetailImageContainer3=this.$GroupCommerceProductDetailImageContainer3.bind(this);this.state={currentIndex:0,stageWidth:n,stageHeight:558};}o.prototype.render=function(){return (c('React').createElement('div',null,c('React').createElement('div',{className:"_57xm"},this.$GroupCommerceProductDetailImageContainer4()),c('React').createElement('div',{className:"_57xn"},this.props.media.length==0?this.$GroupCommerceProductDetailImageContainer5():this.$GroupCommerceProductDetailImageContainer6())));};o.prototype.componentDidUpdate=function(p,q){if(this.props.media&&this.props.media.length>1&&this.props.media!==p.media){this.$GroupCommerceProductDetailImageContainer7();this.$GroupCommerceProductDetailImageContainer1=c('Event').listen(document.body,'keydown',this.$GroupCommerceProductDetailImageContainer3);}else if(!this.props.media||this.props.media.length<1)this.$GroupCommerceProductDetailImageContainer7();};o.prototype.componentWillUnmount=function(){this.$GroupCommerceProductDetailImageContainer7();};o.prototype.componentWillReceiveProps=function(p){var q=this;if(this.props.media!==p.media){var r=0;if(p.media.length<1){this.setState({stageWidth:n});}else (function(){var s=q.props.query;if(s&&s.fbid){r=p.media.findIndex(function(t){return t.id.toString()===s.fbid;});if(r==-1)r=0;}q.$GroupCommerceProductDetailImageContainer8(r,p.media);})();this.setState({currentIndex:r});}};o.prototype.$GroupCommerceProductDetailImageContainer5=function(){var p=this.props.elem;if(!p)return null;var q=c('DOM').scry(p,'img')[0],r=c('DOM').scry(p,'i')[0],s=null,t=null;if(q){s=q.src;t=c('Vector').from(q.naturalWidth,q.naturalHeight);}else if(r){s=c('Style').get(r,'backgroundImage').replace(/.*url\("?([^"]*)"?\).*/,'$1');t=c('Vector').from(q.naturalWidth,q.naturalHeight);}else return null;if(!t.x||!t.y||!s)return null;return (c('React').createElement(c('Image.react'),{className:"_580_",width:t.x,height:t.y,src:s,style:this.$GroupCommerceProductDetailImageContainer9(t.x,t.y)}));};o.prototype.$GroupCommerceProductDetailImageContainer3=function(event){switch(event.keyCode){case 37:case 38:event.stopPropagation();this.$GroupCommerceProductDetailImageContainer10();break;case 39:case 40:event.stopPropagation();this.$GroupCommerceProductDetailImageContainer11();break;}};o.prototype.$GroupCommerceProductDetailImageContainer7=function(){if(this.$GroupCommerceProductDetailImageContainer1){this.$GroupCommerceProductDetailImageContainer1.remove();this.$GroupCommerceProductDetailImageContainer1=null;}};o.prototype.$GroupCommerceProductDetailImageContainer2=function(p){new (c('GroupSellProductDetailActionsTypedLogger'))().setEvent(c('GroupSellProductDetailsEvent').PHOTO_CLICK).setStoryID(this.props.storyID).setGroupID(this.props.group.id).log();this.$GroupCommerceProductDetailImageContainer8(p,this.props.media);this.setState({currentIndex:p});};o.prototype.$GroupCommerceProductDetailImageContainer8=function(p,q){var r=q[p],s=this.state.stageWidth;switch(r.aspect){case c('GroupSellProductDetailsImageAspect').HORIZONTAL:case c('GroupSellProductDetailsImageAspect').WIDE_HORIZONTAL:s=744;break;case c('GroupSellProductDetailsImageAspect').WIDE_VERTICAL:s=314;break;case c('GroupSellProductDetailsImageAspect').VERTICAL:s=419;break;case c('GroupSellProductDetailsImageAspect').SQUARE:s=558;break;case c('GroupSellProductDetailsImageAspect').HEIGHT_BOUND:s=r.width;break;}this.props.onResize(r.aspect,s);this.setState({stageWidth:s});};o.prototype.$GroupCommerceProductDetailImageContainer11=function(){var p=this.state.currentIndex+1,q=this.props.media.length-1;if(p>m||p>q)p=0;this.$GroupCommerceProductDetailImageContainer2(p);};o.prototype.$GroupCommerceProductDetailImageContainer10=function(){var p=this.state.currentIndex-1,q=this.props.media.length-1;if(p<0)p=m<q?m:q;this.$GroupCommerceProductDetailImageContainer2(p);};o.prototype.$GroupCommerceProductDetailImageContainer6=function(){var p=[],q=this.props.media.length;for(var r=0;r<q&&r<=m;r++){var s=this.props.media[r];p.push(c('React').createElement(c('Image.react'),{className:(this.state.currentIndex!=r?"_5810":'')+(' '+"_580_"),width:s.width,height:s.height,src:s.uri,key:'stage'+s.id,style:this.$GroupCommerceProductDetailImageContainer9(s.width,s.height)}));}return p;};o.prototype.$GroupCommerceProductDetailImageContainer9=function(p,q){var r=0;if(p>this.state.stageWidth){r=this.state.stageWidth/p;p*=r;q*=r;}if(q>this.state.stageHeight){r=this.state.stageHeight/q;p*=r;q*=r;}return {paddingTop:(this.state.stageHeight-q)/2+'px',paddingLeft:(this.state.stageWidth-p)/2+'px',maxWidth:this.state.stageWidth,maxHeight:this.state.stageHeight};};o.prototype.$GroupCommerceProductDetailImageContainer4=function(){var p=[],q=this.props.media.length;for(var r=0;r<q&&r<=m;r++){var s=this.props.media[r];p.push(c('React').createElement(c('Image.react'),{className:"_5811"+(this.state.currentIndex==r?' '+"_5812":''),width:l,height:l,src:s.uriThumb,onClick:this.$GroupCommerceProductDetailImageContainer2.bind(this,r),key:'thumbnail'+s.id}));}return (c('React').createElement('div',null,p));};o.propTypes={group:k.object.isRequired,media:k.any.isRequired,onResize:k.func.isRequired,storyID:k.string,query:k.object,elem:k.object};f.exports=o;},null);
__d('GroupCommerceProductDetailRHCContent.react',['cx','ix','GroupSellProductDetailActionsTypedLogger','GroupSellProductDetailsEvent','Image.react','Link.react','React','XUIText.react'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.$GroupCommerceProductDetailRHCContent1(),o=this.$GroupCommerceProductDetailRHCContent2();return (c('React').createElement('div',{className:"_4g63"+(!this.props.actor.profilePicURI?' '+"_34xy":'')},c('React').createElement('div',{className:"_4g65"},o,n,c('React').createElement(c('XUIText.react'),{className:"_4g66"},this.props.product.price),c('React').createElement('div',{className:"_4g67"},this.props.description,c('React').createElement('div',{className:"_4g68"},this.props.actionButton))),c('React').createElement('div',{className:"_4g6d",ref:'ufi',onClick:function(){new (c('GroupSellProductDetailActionsTypedLogger'))().setEvent(c('GroupSellProductDetailsEvent').UFI_CLICK).setStoryID(this.props.storyID).setGroupID(this.props.group.id).log();}.bind(this)},this.props.ufi)));};m.prototype.$GroupCommerceProductDetailRHCContent2=function(){var n=this.props.product.statusText?this.props.product.statusText+' '+this.props.product.title:this.props.product.title;return (c('React').createElement(c('XUIText.react'),{id:this.props.titleID,className:"_4g6e"},n));};m.prototype.$GroupCommerceProductDetailRHCContent1=function(){var n=!this.props.product.deliveryNote?null:c('React').createElement(c('XUIText.react'),{display:'inline'},this.props.product.deliveryNote),o=n?' \u00b7 ':null,p=n?c('React').createElement(c('Image.react'),{className:"_4g6g",src:i('images/groups/sell/place_icon_sell.png')}):null;return (c('React').createElement('div',{className:"_4g6h"},p,c('React').createElement(c('XUIText.react'),null,n),o,c('React').createElement('div',{className:"_4g6i"},c('React').createElement(c('Link.react'),{href:this.props.product.uri,onClick:function(){new (c('GroupSellProductDetailActionsTypedLogger'))().setEvent(c('GroupSellProductDetailsEvent').PERMALINK_CLICK).setStoryID(this.props.storyID).setGroupID(this.props.group.id).log();this.props.hideDialog();}.bind(this)},this.props.timestamp))));};function m(){j.apply(this,arguments);}m.propTypes={actor:l.object.isRequired,product:l.object.isRequired,group:l.object.isRequired,feedback:l.object.isRequired,timestamp:l.any.isRequired,ufi:l.any.isRequired,actionButton:l.any.isRequired,storyID:l.string,description:l.any.isRequired,titleID:l.string};f.exports=m;},null);
__d('GroupCommerceProductDetailRHCFooter.react',['cx','Event','MentionsInputTypeaheadView.react','React','ReactDOM','UFIAddCommentController','UFIMentionsInputProxy.react'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.componentDidMount=function(){this.$GroupCommerceProductDetailRHCFooter1=c('Event').listen(c('ReactDOM').findDOMNode(this.refs.ufiAddComment),'keydown',this.$GroupCommerceProductDetailRHCFooter2);};l.prototype.createUFIAddComment=function(m){if(m.ufi&&m.ufi.params){m.ufi.params.mentionsinput={inputComponent:c('UFIMentionsInputProxy.react'),viewComponent:c('MentionsInputTypeaheadView.react')};new (c('UFIAddCommentController'))(c('ReactDOM').findDOMNode(this.refs.ufiAddComment),m.ufi.params).render();}};l.prototype.componentWillUnmount=function(){if(this.$GroupCommerceProductDetailRHCFooter1){this.$GroupCommerceProductDetailRHCFooter1.remove();this.$GroupCommerceProductDetailRHCFooter1=null;}};l.prototype.render=function(){return (c('React').createElement('div',{className:"_3g6i"+(!this.props.actor.profilePicURI?' '+"_34xy":''),key:this.props.ufiInstanceID,ref:'ufiAddComment'}));};l.prototype.$GroupCommerceProductDetailRHCFooter2=function(event){switch(event.keyCode){case 37:case 38:case 39:case 40:event.stopPropagation();break;}};function l(){i.apply(this,arguments);}l.propTypes={ufiInstanceID:k.string.isRequired,ufi:k.object.isRequired,actor:k.object.isRequired};f.exports=l;},null);
__d('GroupCommerceProductDetailRHCHeader.react',['cx','fbt','ix','GroupSellProductDetailActionsTypedLogger','GroupSellProductDetailsEvent','Image.react','Link.react','React','ReactLayeredComponentMixin','XUIContextualDialog.react','XUIContextualDialogBody.react','classWithMixins','mixin'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes,n=104,o=56;k=babelHelpers.inherits(p,c('classWithMixins')(c('React').Component,c('mixin')(c('ReactLayeredComponentMixin'))));l=k&&k.prototype;p.prototype.renderLayers=function(){return {contextualDialog:c('React').createElement(c('XUIContextualDialog.react'),{contextRef:function(){return this.refs.recommendation;}.bind(this),offsetX:-8,shown:true,hoverContextRef:function(){return this.refs.recommendation;}.bind(this),hideOnEscape:true,hoverHideDelay:0,hoverShowDelay:500,autoFocus:false,width:c('XUIContextualDialog.react').WIDTH.WIDE,position:'below'},c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement('div',{id:this.props.recommendationID}))),actorDialog:c('React').createElement(c('XUIContextualDialog.react'),{contextRef:function(){return this.refs.actorName;}.bind(this),shown:true,hoverContextRef:function(){return this.refs.actorName;}.bind(this),hideOnEscape:true,hoverHideDelay:0,hoverShowDelay:500,autoFocus:false,width:c('XUIContextualDialog.react').WIDTH.WIDE,position:'below'},c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement('div',{id:this.props.actorHoverID}))),actorImageDialog:c('React').createElement(c('XUIContextualDialog.react'),{contextRef:function(){return this.refs.actorImage;}.bind(this),shown:true,hoverContextRef:function(){return this.refs.actorImage;}.bind(this),hideOnEscape:true,hoverHideDelay:0,hoverShowDelay:500,autoFocus:false,width:c('XUIContextualDialog.react').WIDTH.WIDE,position:'below'},c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement('div',{id:this.props.actorImageHoverID}))),groupDialog:c('React').createElement(c('XUIContextualDialog.react'),{contextRef:function(){return this.refs.groupName;}.bind(this),shown:true,hoverContextRef:function(){return this.refs.groupName;}.bind(this),hideOnEscape:true,hoverHideDelay:0,hoverShowDelay:500,autoFocus:false,width:c('XUIContextualDialog.react').WIDTH.WIDE,position:'below'},c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement('div',{id:this.props.groupHoverID})))};};p.prototype.render=function(){var q=this.$GroupCommerceProductDetailRHCHeader1();return (c('React').createElement('div',{className:"_34xx"+(!this.props.actor.profilePicURI?' '+"_34xy":'')},c('React').createElement(c('Image.react'),{className:"_34xz",width:o,height:o,src:this.props.actor.profilePicURI,ref:'actorImage'}),c('React').createElement('div',{className:"_34x-"},c('React').createElement('div',{className:"_34x_"},c('React').createElement('div',{ref:'actorName',className:"_34y0"},c('React').createElement(c('Link.react'),{href:this.props.actor.uri,onClick:function(){new (c('GroupSellProductDetailActionsTypedLogger'))().setEvent(c('GroupSellProductDetailsEvent').PROFILE_LINK_CLICK).setStoryID(this.props.storyID).setGroupID(this.props.group.id).log();this.props.hideDialog();}.bind(this)},this.props.actor.name)),c('React').createElement(c('Image.react'),{className:"_34y1",src:j('images/icons/wall_arrow.gif')}),c('React').createElement('div',{ref:'groupName',className:"_34y0"},c('React').createElement(c('Link.react'),{href:this.props.group.uri,onClick:function(){new (c('GroupSellProductDetailActionsTypedLogger'))().setEvent(c('GroupSellProductDetailsEvent').GROUP_LINK_CLICK).setStoryID(this.props.storyID).setGroupID(this.props.group.id).log();this.props.hideDialog();}.bind(this)},this.props.group.name))),c('React').createElement('div',{ref:'recommendation',className:"_34y2"},q)),c('React').createElement('div',{id:this.props.chevronID})));};p.prototype.$GroupCommerceProductDetailRHCHeader1=function(){if(!this.props.actor.hasRecommendations)return null;var q=this.props.actor.recommendationsCount,r=this.props.actor.maxRecommendations,s=q<r?q:i._("{count} +",[i.param('count',r-1)]),t=q!==1?i._("{count} personnes ont recommand\u00e9 {short name of user}",[i.param('count',s),i.param('short name of user',this.props.actor.shortName)]):i._("{count} personne a recommand\u00e9 {short name of user}",[i.param('count',s),i.param('short name of user',this.props.actor.shortName)]);return (c('React').createElement('div',null,c('React').createElement('div',{className:"_1my1"+(!q?' '+"_29jg":'')}),c('React').createElement('div',{className:"_34y3"},t)));};p.prototype.componentDidUpdate=function(q,r){var s=this.refs.actorName.offsetWidth,t=n-s;this.refs.groupName.style.maxWidth=n+t+'px';};function p(){k.apply(this,arguments);}p.propTypes={actor:m.object.isRequired,group:m.object.isRequired,storyID:m.string,recommendationID:m.string.isRequired,actorHoverID:m.string.isRequired,actorImageHoverID:m.string.isRequired,groupHoverID:m.string.isRequired,chevronID:m.string.isRequired};f.exports=p;},null);
__d("XGroupCommerceMarketplaceProductDetailController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/marketplace\/product_detail\/",{story_id:{type:"String",required:true},ufi_id:{type:"String",required:true},date_time_id:{type:"String",required:true},action_button_id:{type:"String",required:true},recommendation_dialog_id:{type:"String",required:true},actor_dialog_id:{type:"String",required:true},actor_image_dialog_id:{type:"String",required:true},description_id:{type:"String",required:true},title_id:{type:"String",required:true},group_hover_id:{type:"String",required:true},ufi_instance_id:{type:"String",required:true},chevron_id:{type:"String",required:true}});},null);
__d("XGroupCommerceMarketplaceSimilarProductsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/marketplace\/similar_products\/",{rid:{type:"Int"},rt:{type:"Enum",enumType:0},location:{type:"Enum",enumType:1},share_id:{type:"Int"},story_id:{type:"String",required:true},post_dom_id:{type:"String",required:true},render_location:{type:"Enum",required:true,enumType:1}});},null);
__d('GroupCommerceProductDetail.react',['csx','cx','fbt','AsyncRequest','GroupSellProductDetailActionsTypedLogger','GroupSellProductDetailsEvent','GroupSellProductDetailsImageAspect','LayerFadeOnHide','LayerHideOnEscape','LeftRight.react','GroupCommerceProductDetailRHCHeader.react','GroupCommerceProductDetailImageContainer.react','GroupCommerceProductDetailRHCContent.react','GroupCommerceProductDetailRHCFooter.react','StoryRenderLocation','Parent','React','ReactLayeredComponentMixin','ReactRenderer','ResponsiveBlock.react','ScrollableArea.react','XGroupCommerceMarketplaceProductDetailController','XGroupCommerceMarketplaceSimilarProductsController','XUIDialog.react','XUIDialogTitle.react','XUIDialogBody.react','classWithMixins','guid','mixin'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=495,n=891;k=babelHelpers.inherits(o,c('classWithMixins')(c('React').Component,c('mixin')(c('ReactLayeredComponentMixin'))));l=k&&k.prototype;function o(p,q){l.constructor.call(this,p,q);var r=this;r.hideDialog=this.hideDialog.bind(this);r.showDialog=this.showDialog.bind(this);r.$GroupCommerceProductDetail2=this.$GroupCommerceProductDetail2.bind(this);r.$GroupCommerceProductDetail3=this.$GroupCommerceProductDetail3.bind(this);r.$GroupCommerceProductDetail4=this.$GroupCommerceProductDetail4.bind(this);r.$GroupCommerceProductDetail5=this.$GroupCommerceProductDetail5.bind(this);this.$GroupCommerceProductDetail1={};this.state={isDialogShown:false,width:n,rhcHeight:200,payload:this.$GroupCommerceProductDetail6(),ufiID:'ufi_detail_'+c('guid')(),datetimeID:'datetime_'+c('guid')(),actionButtonID:'actionButton'+c('guid')(),recommendationDialogID:'recommendationDialogID'+c('guid')(),actorHoverID:'actorHoverID'+c('guid')(),actorImageHoverID:'actorImageHoverID'+c('guid')(),descriptionID:'descriptionID'+c('guid')(),titleID:'titleID'+c('guid')(),groupHoverID:'groupHoverID'+c('guid')(),ufiInstanceID:'ufiInstanceID'+c('guid')(),chevronID:'chevronID'+c('guid')(),query:null,elem:null};}o.prototype.componentWillUnmount=function(){this.refs.modal.layer.hide();o.$GroupCommerceProductDetail7=null;};o.prototype.renderLayers=function(){var p=c('React').createElement('div',{id:this.state.datetimeID}),q=c('React').createElement('div',{id:this.state.ufiID}),r=c('React').createElement('div',{id:this.state.actionButtonID}),s=c('React').createElement('div',{className:"_3g5q",id:this.state.descriptionID});return {dialog:c('React').createElement(c('XUIDialog.react'),{className:"_5p3y",shown:this.state.isDialogShown,onToggle:this.$GroupCommerceProductDetail2,ref:'modal',width:this.state.width,behaviors:{LayerFadeOnHide:c('LayerFadeOnHide'),LayerHideOnEscape:c('LayerHideOnEscape')}},c('React').createElement(c('XUIDialogTitle.react'),null,j._("D\u00e9tails de l\u2019article")),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_3g6d"},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',{className:"_3g6e"},c('React').createElement(c('GroupCommerceProductDetailImageContainer.react'),{group:this.state.payload.group,media:this.state.payload.media,storyID:this.state.payload.storyID,query:this.state.query,elem:this.state.elem,onResize:this.$GroupCommerceProductDetail5})),c('React').createElement('div',{className:"_3g6f"},c('React').createElement(c('ScrollableArea.react'),{className:"_3g6g",height:this.state.rhcHeight},c('React').createElement(c('ResponsiveBlock.react'),{className:"_3g6h",onResize:this.$GroupCommerceProductDetail3},c('React').createElement(c('GroupCommerceProductDetailRHCHeader.react'),{actor:this.state.payload.actor,group:this.state.payload.group,hideDialog:this.hideDialog,storyID:this.state.payload.storyID,recommendationID:this.state.recommendationDialogID,actorHoverID:this.state.actorHoverID,actorImageHoverID:this.state.actorImageHoverID,groupHoverID:this.state.groupHoverID,chevronID:this.state.chevronID}),c('React').createElement(c('GroupCommerceProductDetailRHCContent.react'),{actor:this.state.payload.actor,product:this.state.payload.product,group:this.state.payload.group,feedback:this.state.payload.feedback,timestamp:p,actionButton:r,ufi:q,hideDialog:this.hideDialog,storyID:this.state.payload.storyID,description:s,titleID:this.state.titleID}))),c('React').createElement(c('GroupCommerceProductDetailRHCFooter.react'),{actor:this.state.payload.actor,ref:'rhcFooter',className:"_3g6i",ufiInstanceID:this.state.ufiInstanceID,ufi:this.state.payload.ufi}))))))};};o.prototype.render=function(){return null;};o.prototype.showDialog=function(p,q,r){var s=c('XGroupCommerceMarketplaceProductDetailController').getURIBuilder().setString('story_id',p).setString('ufi_id',this.state.ufiID).setString('date_time_id',this.state.datetimeID).setString('action_button_id',this.state.actionButtonID).setString('recommendation_dialog_id',this.state.recommendationDialogID).setString('actor_dialog_id',this.state.actorHoverID).setString('actor_image_dialog_id',this.state.actorImageHoverID).setString('description_id',this.state.descriptionID).setString('title_id',this.state.titleID).setString('group_hover_id',this.state.groupHoverID).setString('ufi_instance_id',this.state.ufiInstanceID).setString('chevron_id',this.state.chevronID).getURI();new (c('AsyncRequest'))().setURI(s).setMethod('GET').setHandler(this.$GroupCommerceProductDetail4).setErrorHandler(function(t){new (c('GroupSellProductDetailActionsTypedLogger'))().setEvent(c('GroupSellProductDetailsEvent').ASYNC_DATA_REQUEST_FAIL).setStoryID(p.toString()).log();}).setReadOnly(true).send();this.setState({payload:this.$GroupCommerceProductDetail6(),query:q,elem:r,isDialogShown:true,width:n});this.$GroupCommerceProductDetail8(p,r);};o.prototype.$GroupCommerceProductDetail8=function(p,q){var r=q&&c('Parent').bySelector(q,"._4-u2");if(!q||!q.dataset.renderLocation||!r)return;var s=r.id;if(this.$GroupCommerceProductDetail1[s])return;this.$GroupCommerceProductDetail1[s]=true;var t=c('XGroupCommerceMarketplaceSimilarProductsController').getURIBuilder().setString('story_id',p).setString('post_dom_id',s).setEnum('render_location',q.dataset.renderLocation).getURI();new (c('AsyncRequest'))().setURI(t).setMethod('GET').setHandler(this.$GroupCommerceProductDetail9).setErrorHandler(function(u){}).setReadOnly(true).send();};o.prototype.$GroupCommerceProductDetail9=function(p){var q=p.getPayload();if(!q||!q.length)return;};o.prototype.hideDialog=function(){this.$GroupCommerceProductDetail2(false);};o.prototype.$GroupCommerceProductDetail5=function(p,q){var r=this.state.width;switch(p){case c('GroupSellProductDetailsImageAspect').HORIZONTAL:case c('GroupSellProductDetailsImageAspect').WIDE_HORIZONTAL:r=1153;break;case c('GroupSellProductDetailsImageAspect').WIDE_VERTICAL:r=723;break;case c('GroupSellProductDetailsImageAspect').VERTICAL:r=828;break;case c('GroupSellProductDetailsImageAspect').SQUARE:r=967;break;case c('GroupSellProductDetailsImageAspect').HEIGHT_BOUND:r=q+409;break;}this.setState({width:r});};o.prototype.$GroupCommerceProductDetail3=function(p,q){if(q>m)q=m;this.setState({rhcHeight:q});};o.prototype.$GroupCommerceProductDetail2=function(p){if(o.$GroupCommerceProductDetail7!==null)this.setState({isDialogShown:p});if(!p){new (c('GroupSellProductDetailActionsTypedLogger'))().setEvent(c('GroupSellProductDetailsEvent').HIDE_DIALOG).setStoryID(this.state.payload.storyID).setGroupID(this.state.payload.group.id).log();if(o.$GroupCommerceProductDetail7!==null)setTimeout(function(){this.setState({payload:this.$GroupCommerceProductDetail6(),query:null,elem:null});}.bind(this));}};o.prototype.$GroupCommerceProductDetail6=function(){return {actor:{profilePicURI:null},group:{},product:{},feedback:{},media:[],ufi:{}};};o.prototype.$GroupCommerceProductDetail4=function(p){new (c('GroupSellProductDetailActionsTypedLogger'))().setEvent(c('GroupSellProductDetailsEvent').SHOW_DIALOG).setStoryID(p.payload.storyID).setGroupID(p.payload.group.id).log();this.refs.rhcFooter.createUFIAddComment(p.payload);this.setState({payload:p.payload,isDialogShown:true});};o.init=function(p){var q=c('ReactRenderer').constructAndRenderComponent(o,{},p);o.$GroupCommerceProductDetail10=p;o.$GroupCommerceProductDetail7=q;if(o.$GroupCommerceProductDetail11){o.showDialog(o.$GroupCommerceProductDetail11,o.$GroupCommerceProductDetail12,o.$GroupCommerceProductDetail13);o.$GroupCommerceProductDetail11=null;o.$GroupCommerceProductDetail12=null;o.$GroupCommerceProductDetail13=null;}};o.showDialog=function(p,q,r){if(!o.$GroupCommerceProductDetail7){if(!o.$GroupCommerceProductDetail10){o.$GroupCommerceProductDetail11=p;o.$GroupCommerceProductDetail12=q;o.$GroupCommerceProductDetail13=r;return;}o.init(o.$GroupCommerceProductDetail10);}if(!o.$GroupCommerceProductDetail7){new (c('GroupSellProductDetailActionsTypedLogger'))().setEvent(c('GroupSellProductDetailsEvent').DIALOG_INSTANCE_NULL).setStoryID(p.toString()).log();return;}o.$GroupCommerceProductDetail7.showDialog(p,q,r);};o.$GroupCommerceProductDetail7=null;o.$GroupCommerceProductDetail11=null;o.$GroupCommerceProductDetail10=null;o.$GroupCommerceProductDetail13=null;o.$GroupCommerceProductDetail12=null;f.exports=o;},null);
__d('GroupCommerceProductDetailLayer',['Layer','GroupCommerceProductDetail.react'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('Layer'));i=h&&h.prototype;j.prototype._buildWrapper=function(k,l){c('GroupCommerceProductDetail.react').init(l);return l;};function j(){h.apply(this,arguments);}f.exports=j;},null);