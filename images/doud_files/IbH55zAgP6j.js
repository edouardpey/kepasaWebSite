if (self.CavalryLogger) { CavalryLogger.start_js(["eWMV0"]); }

__d('UFITypingSubscriptionController',['UFITypingSubscription','dotAccess'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=15*1000;function i(k){var l=c('dotAccess')(k,'feedback_typing_subscribe.feedback.feedback_typers.friend_count');return {friendCount:parseInt(l,10)||0};}function j(k,l){this.$UFITypingSubscriptionController1=null;this.$UFITypingSubscriptionController2=l;this.$UFITypingSubscriptionController3=c('UFITypingSubscription').subscribe(k,this.$UFITypingSubscriptionController4.bind(this));}j.prototype.unsubscribe=function(){this.$UFITypingSubscriptionController5();this.$UFITypingSubscriptionController3&&this.$UFITypingSubscriptionController3.unsubscribe();};j.prototype.$UFITypingSubscriptionController4=function(k){this.$UFITypingSubscriptionController5();this.$UFITypingSubscriptionController2(i(k));this.$UFITypingSubscriptionController1=setTimeout(function(){this.$UFITypingSubscriptionController5();this.$UFITypingSubscriptionController2({friendCount:0});}.bind(this),h);};j.prototype.$UFITypingSubscriptionController5=function(){if(this.$UFITypingSubscriptionController1){clearTimeout(this.$UFITypingSubscriptionController1);this.$UFITypingSubscriptionController1=null;}};f.exports=j;},null);