/*1462288924,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["ondiZ"]); }

__d('ChatTypeaheadConstants',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={USER_TYPE:'user',THREAD_TYPE:'thread',FRIEND_TYPE:'friend',NON_FRIEND_TYPE:'non_friend',FB4C_TYPE:'fb4c',PAGE_TYPE:'page',MEETING_ROOM_PAGE_TYPE:'meeting_room_page',COMMERCE_PAGE_TYPE:'commerce_page',HEADER_TYPE:'header'};f.exports=h;},null);
__d('WebMessengerPermalinkConstants',['URI'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={ARCHIVED_PATH:'/messages/archived',BASE_PATH:'/messages',PENDING_PATH:'/messages/pending',OTHER_PATH:'/messages/other',SPAM_PATH:'/messages/spam',COMPOSE_POSTFIX_PATH:'/new',SEARCH_POSTFIX_PATH:'/search',TID_POSTFIX_PARTIAL_PATH:'/conversation-',overriddenVanities:'(archived|other|pending|spam|new|search|conversation-.*)',getURIPathForThreadID:function(i,j){return (j||h.BASE_PATH)+h.TID_POSTFIX_PARTIAL_PATH+c('URI').encodeComponent(c('URI').encodeComponent(i));},getThreadIDFromURI:function(i){var j=i.getPath().match(h.BASE_PATH+'(/[^/]*)*'+h.TID_POSTFIX_PARTIAL_PATH+'([^/]+)');if(j){var k=c('URI').decodeComponent(c('URI').decodeComponent(j[2]));return k;}},getURIPathForIDOrVanity:function(i,j){if(i.match('^'+h.overriddenVanities+'$'))i='.'+i;return (j||h.BASE_PATH)+'/'+i;},getUserIDOrVanity:function(i){var j=i.match(h.BASE_PATH+'.*/([^/]+)/?$'),k=j&&j[1],l=h.overriddenVanities;if(!k||k.match('^'+l+'$')){return false;}else if(k.match('^\\.'+l+'$')){return k.substr(1);}else return k;}};f.exports=h;},null);
__d('ChatOpenTab',['csx','ChatTypeaheadConstants','ContextualThing','Event','MercuryIDs','MercuryParticipantTypes','Parent','URI','WebMessengerPermalinkConstants','curry','emptyFunction','goURI','ifRequired','requireWeak'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=null;c('requireWeak')('ChatApp',function(t){return i=t;});function j(t,u){var v=t?new (c('URI'))(c('WebMessengerPermalinkConstants').getURIPathForThreadID(t)):new (c('URI'))(c('WebMessengerPermalinkConstants').BASE_PATH+c('WebMessengerPermalinkConstants').COMPOSE_POSTFIX_PATH);if(u)v.addQueryData({ref:u});c('ifRequired')('BusinessURI.brands',function(w){return c('goURI')(w(v));},function(){return c('goURI')(v);});}function k(t,u){j(c('MercuryIDs').getThreadIDFromUserID(t),u);}function l(t,u,v){k(u,v);}function m(t,u){j(c('MercuryIDs').getThreadIDFromThreadFBID(t),u);}function n(t,u){j(null,u);}function o(t,u,v,w){c('Event').listen(t,'click',function(x){if(s.canOpenTab()){w(u,v);return x.kill();}});}function p(t,u,v,w){c('Event').listen(t,'click',function(x){if(s.canOpenTab())w(u,v);});}function q(t,u,v,w){s.impl()._logChatOpenTabEvent(t,u,v,w);}function r(t){var u=c('ContextualThing').getContext(t);return u&&c('Parent').bySelector(u,"._3qw")!==null;}var s={canOpenTab:function(){return i&&!i.isHidden();},openEmptyTab:function(t,u,v){s.impl().openEmptyTab(t,u,v);},listenOpenEmptyTab:function(t,u){o(t,null,u,s.openEmptyTab);},openThread:function(t,u,v,w,x){s.impl().openThreadTab(t,u,v,w,x);},openClientTab:function(t,u,v,w,x){var y=s.impl();y.openClientTab(t,w,x);y._logChatOpenTabEvent(u,t,null,v);},listenOpenThread:function(t,u,v){o(t,u,v,s.openThread);},openUserTab:function(t,u,v){s.impl().openUserTab(t,u,v);},openPageTab:function(t,u,v){s.impl().openPageTab(t,u,v);return true;},listenOpenUserTab:function(t,u,v){if(!r(t))o(t,u,v,s.openUserTab);},listenOpenUserTabPersistentEvent:function(t,u,v){if(!r(t))p(t,u,v,s.openUserTab);},listenOpenPageTab:function(t,u,v,w){if(!r(t))o(t,u,w,c('curry')(s.openPageTab,v));},listenOpenPageTabPersistentEvent:function(t,u,v,w){if(!r(t))p(t,u,w,c('curry')(s.openPageTab,v));},openTabByType:function(t,u,v){if(u===c('ChatTypeaheadConstants').THREAD_TYPE){if(t){this.openThread(t,v);}else this.openEmptyTab(null,v);}else if(u===c('ChatTypeaheadConstants').MEETING_ROOM_PAGE_TYPE){var w=c('MercuryIDs').getUserIDFromThreadID(t);c('goURI')('/'+w);}else if(!u||u===c('MercuryParticipantTypes').FRIEND||u===c('ChatTypeaheadConstants').FRIEND_TYPE||u===c('ChatTypeaheadConstants').PAGE_TYPE||u===c('ChatTypeaheadConstants').USER_TYPE){if(c('MercuryIDs').isValidThreadID(t))t=c('MercuryIDs').getUserIDFromThreadID(t);this.openUserTab(t,v);}else this.openThread(t,v);},impl:function(){if(i&&i.isInitialized()&&!i.isHidden()&&i.chatOpenTabImpl){return i.chatOpenTabImpl;}else return {openClientTab:j,openUserTab:k,openEmptyTab:n,openThreadTab:m,openPageTab:l,_logChatOpenTabEvent:c('emptyFunction')};}};f.exports=s;},null);
__d('ReactAbstractContextualDialog',['ContextualDialog','ContextualDialogArrow','LayerAutoFocus','LayerHideOnEscape','LayerRefocusOnHide','React','ReactDOM'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i={createSpec:function(j){return {displayName:j.displayName,propTypes:{position:h.oneOf(['above','below','left','right']),alignment:h.oneOf(['left','center','right']),offsetX:h.number,offsetY:h.number,width:h.number,autoFocus:h.bool,focusContextOnHide:h.bool,arrowBehavior:h.func,behaviors:h.object,shown:h.bool,context:h.object,contextRef:h.func,hoverContext:h.object,hoverContextRef:h.func,hoverShowDelay:h.number,hoverHideDelay:h.number,hideOnEscape:h.bool,insertParent:h.object,onBeforeHide:h.func,onToggle:h.func,hasActionableContext:h.bool},immutableProps:{modal:null},createLayer:function(k){var l=this.props.context||c('ReactDOM').findDOMNode(this.props.contextRef()),m=this.props.hoverContext||this.props.hoverContextRef&&c('ReactDOM').findDOMNode(this.props.hoverContextRef()),n=babelHelpers['extends']({context:l,hoverContext:m,hoverShowDelay:this.props.hoverShowDelay,hoverHideDelay:this.props.hoverHideDelay,position:this.props.position,alignment:this.props.alignment,offsetX:this.props.offsetX,offsetY:this.props.offsetY,width:this.props.width,shouldSetARIAProperties:!this.props.hasActionableContext,arrowBehavior:this.props.arrowBehavior||c('ContextualDialogArrow'),addedBehaviors:this.enumerateBehaviors(this.props.behaviors)},j||{}),o=new (c('ContextualDialog'))(n,k);if(this.props.contextBounds)o.setContextWithBounds(l,this.props.contextBounds);if(this.props.autoFocus!==false)o.enableBehavior(c('LayerAutoFocus'));if(this.props.hideOnEscape===true)o.enableBehavior(c('LayerHideOnEscape'));if(this.props.focusContextOnHide===false)o.disableBehavior(c('LayerRefocusOnHide'));if(this.props.onBeforeHide)o.subscribe('beforehide',this.props.onBeforeHide);if(this.props.insertParent)o.setInsertParent(this.props.insertParent);o.conditionShow(this.props.shown);return o;},receiveProps:function(k,l){this.updateBehaviors(l.behaviors,k.behaviors);var m=k.context||k.contextRef&&c('ReactDOM').findDOMNode(k.contextRef());if(m)if(k.contextBounds){this.layer.setContextWithBounds(m,k.contextBounds);}else this.layer.setContext(m);this.layer.setPosition(k.position).setAlignment(k.alignment).setOffsetX(k.offsetX).setOffsetY(k.offsetY).setWidth(k.width).conditionShow(k.shown);}};}};f.exports=i;},null);
__d('HasLayerContextMixin',['ReactDOM'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getContextNode:function(){var i=this.props.context;if(this.props.contextRef){var j=this.props.contextRef();i=j&&c('ReactDOM').findDOMNode(j);}return i;}};f.exports=h;},null);
__d('XUIAmbientNUXBody.react',['cx','React','XUICloseButton.react','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'XUIAmbientNUXBody',propTypes:{onCloseButtonClick:i.func},render:function(){var k=c('joinClasses')("_21es",this.props.className);return (c('React').createElement('div',{className:k},c('React').createElement(c('XUICloseButton.react'),{shade:'light',className:"_36gl",onClick:this.props.onCloseButtonClick}),c('React').createElement('div',{className:"_36gn"},this.props.children)));}});f.exports=j;},null);
__d('XUIAmbientNUXTheme',['cx'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={wrapperClassName:"_2x6q",arrowDimensions:{offset:14,length:18}};f.exports=i;},null);
__d('XUIAmbientNUX.react',['HasLayerContextMixin','React','ReactLayer','ReactAbstractContextualDialog','XUIAmbientNUXTheme','XUIAmbientNUXBody.react'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=300,j=380,k=c('ReactLayer').createClass(c('ReactAbstractContextualDialog').createSpec({displayName:'XUIAmbientNUX',theme:c('XUIAmbientNUXTheme')})),l=c('React').createClass({displayName:'XUIAmbientNUX',propTypes:{alignment:h.oneOf(['left','center','right']),behaviors:h.object,context:h.object,contextRef:h.func,customwidth:h.number,hasActionableContext:h.bool,insertParent:h.object,offsetX:h.number,offsetY:h.number,onCloseButtonClick:h.func,position:h.oneOf(['above','below','left','right']),shown:h.bool,width:h.oneOf(['wide','normal','auto','custom'])},_getWidth:function(){switch(this.props.width){case 'wide':return j;case 'custom':return this.props.customwidth;case 'auto':return null;default:return i;}},render:function(){return (c('React').createElement(k,{alignment:this.props.alignment,autoFocus:false,behaviors:this.props.behaviors,context:this.props.context,contextRef:this.props.contextRef,focusContextOnHide:false,hasActionableContext:this.props.hasActionableContext,insertParent:this.props.insertParent,offsetX:this.props.offsetX,offsetY:this.props.offsetY,position:this.props.position,shown:this.props.shown,width:this._getWidth(this.props)},c('React').createElement(c('XUIAmbientNUXBody.react'),{onCloseButtonClick:this.props.onCloseButtonClick},this.props.children)));}});f.exports=l;},null);
__d('XUIContextualDialogBody.react',['React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'XUIContextualDialogBody',render:function(){return (c('React').createElement('div',{className:this.props.className},this.props.children));}});f.exports=h;},null);
__d('XUIContextualDialogFooter.react',['cx','React','XUIOverlayFooter.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'XUIContextualDialogFooter',render:function(){return (c('React').createElement(c('XUIOverlayFooter.react'),{className:"_572u"},this.props.children));}});f.exports=i;},null);
__d('XUIContextualDialogTitle.react',['cx','React','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'XUIContextualDialogTitle',propTypes:{use:i.oneOf(['primary','secondary'])},getDefaultProps:function(){return {use:'primary'};},render:function(){var k=this.props.use,l=c('joinClasses')("_47lu"+(k==='primary'?' '+"_47lv":'')+(k==='secondary'?' '+"_47mc":''),this.props.className);return (c('React').createElement('h3',{className:l},this.props.children));}});f.exports=j;},null);
__d('XUIContextualDialog.react',['cx','HasLayerContextMixin','ContextualDialogXUITheme','React','ReactAbstractContextualDialog','ReactLayer','XUIContextualDialogBody.react','XUIContextualDialogFooter.react','XUIContextualDialogTitle.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('ReactLayer').createClass(c('ReactAbstractContextualDialog').createSpec({displayName:'ReactXUIContextualDialog',theme:c('ContextualDialogXUITheme')})),k=c('React').createClass({displayName:'XUIContextualDialog',propTypes:{position:i.oneOf(['above','below','left','right']),alignment:i.oneOf(['left','center','right']),offsetX:i.number,offsetY:i.number,width:i.number,autoFocus:i.bool,arrowBehavior:i.func,behaviors:i.object,shown:i.bool,context:i.object,contextRef:i.func,hoverContext:i.object,hoverContextRef:i.func,hoverShowDelay:i.number,hoverHideDelay:i.number,hideOnEscape:i.bool,onToggle:i.func,hasActionableContext:i.bool},getDefaultProps:function(){return {hasActionableContext:false,hideOnEscape:true};},_getDialogBody:function(){return this._getChildOfType(c('XUIContextualDialogBody.react'));},_getDialogTitle:function(){return this._getChildOfType(c('XUIContextualDialogTitle.react'));},_getDialogFooter:function(){return this._getChildOfType(c('XUIContextualDialogFooter.react'));},_getChildOfType:function(l){var m=null;c('React').Children.forEach(this.props.children,function(n){if(!m&&n.type===l)m=n;});return m;},updatePosition:function(){var l=this.refs.dialog;if(l)l.layer.updatePosition();},render:function(){var l=this.props.children,m=this._getDialogBody();if(m)l=c('React').createElement('div',{className:"_53iv"},this._getDialogTitle(),m);return (c('React').createElement(j,babelHelpers['extends']({},this.props,{ref:'dialog'}),l,m?this._getDialogFooter():null));}});k.WIDTH={NORMAL:312,WIDE:400};f.exports=k;},null);
__d('escapeRegex',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){return i.replace(/([.?*+\^$\[\]\\(){}|\-])/g,'\\$1');}f.exports=h;},null);
__d('padNumber',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=i.toString();if(k.length>=j)return k;return Array(j-k.length+1).join('0')+k;}f.exports=h;},null);
__d('DateStrings',['fbt'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j,k,l,m,n,o,p,q={getWeekdayName:function(r){if(!n)n=[h._("Dimanche"),h._("Lundi"),h._("Mardi"),h._("Mercredi"),h._("Jeudi"),h._("Vendredi"),h._("Samedi")];return n[r];},getUppercaseWeekdayName:function(r){if(!p)p=[h._("DIMANCHE"),h._("LUNDI"),h._("MARDI"),h._("MERCREDI"),h._("JEUDI"),h._("VENDREDI"),h._("SAMEDI")];return p[r];},getWeekdayNameShort:function(r){if(!o)o=[h._("dim"),h._("lun"),h._("mar"),h._("mer"),h._("jeu"),h._("ven"),h._("sam")];return o[r];},getMonthName:function(r){if(!i)i=[h._("janvier"),h._("f\u00e9vrier"),h._("mars"),h._("avril"),h._("mai"),h._("juin"),h._("juillet"),h._("ao\u00fbt"),h._("septembre"),h._("octobre"),h._("novembre"),h._("d\u00e9cembre")];return i[r-1];},getUppercaseMonthName:function(r){if(!l)l=[h._("JANVIER"),h._("F\u00c9VRIER"),h._("MARS"),h._("AVRIL"),h._("MAI"),h._("JUIN"),h._("JUILLET"),h._("AO\u00dbT"),h._("SEPTEMBRE"),h._("OCTOBRE"),h._("NOVEMBRE"),h._("D\u00c9CEMBRE")];return l[r-1];},getMonthNameShort:function(r){if(!j)j=[h._("jan"),h._("f\u00e9v"),h._("mar"),h._("avr"),h._("mai"),h._("jun"),h._("juil"),h._("ao\u00fb"),h._("sep"),h._("oct"),h._("nov"),h._("d\u00e9c")];return j[r-1];},getUppercaseMonthNameShort:function(r){if(!k)k=[h._("JAN"),h._("F\u00c9V"),h._("MAR"),h._("AVR"),h._("MAI"),h._("JUN"),h._("JUIL"),h._("AO\u00db"),h._("SEP"),h._("OCT"),h._("NOV"),h._("D\u00c9C")];return k[r-1];},getOrdinalSuffix:function(r){if(!m)m=['',h._("st"),h._("nd"),h._("rd"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("st"),h._("nd"),h._("rd"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("st")];return m[r];},getDayLabel:function(){return h._("Jour\u00a0:");},getMonthLabel:function(){return h._("Mois\u00a0:");},getYearLabel:function(){return h._("Ann\u00e9e\u00a0:");},getDayPlaceholder:function(){return h._("jj");},getMonthPlaceholder:function(){return h._("mm");},getYearPlaceholder:function(){return h._("aaaa");},get12HourClockSuffix:function(r){if(r<12)return h._("am");return h._("pm");},getUppercase12HourClockSuffix:function(r){if(r<12)return h._("AM");return h._("PM");}};f.exports=q;},null);
__d('filterObject',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=Object.prototype.hasOwnProperty;function i(j,k,l){if(!j)return null;var m={};for(var n in j)if(h.call(j,n)&&k.call(l,j[n],n,j))m[n]=j[n];return m;}f.exports=i;},null);
__d('BookmarkFeedSorter',['Run'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h,i={init:function(j){h=j;c('Run').onLeave(function(){h=null;});},setChecked:function(j){if(h)h.setValue(j);}};f.exports=i;},null);
__d("ScriptPathState",["Arbiter"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h,i,j,k,l=100,m={setIsUIPageletRequest:function(n){j=n;},setUserURISampleRate:function(n){k=n;},reset:function(){h=null;i=false;j=false;},_shouldUpdateScriptPath:function(){return i&&!j;},_shouldSendURI:function(){return Math.random()<k;},getParams:function(){var n={};if(m._shouldUpdateScriptPath()){if(m._shouldSendURI()&&h!==null)n.user_uri=h.substring(0,l);}else n.no_script_path=1;return n;}};c("Arbiter").subscribe("pre_page_transition",function(n,o){i=true;h=o.to.getUnqualifiedURI().toString();});f.exports=b.ScriptPathState=m;},null);
__d('goOrReplace',['URI'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){var l=new (c('URI'))(j),m=b.Quickling;if(i.pathname=='/'&&l.getPath()!='/'&&m&&m.isActive()&&m.isPageActive(l)){var n=i.search?{}:{q:''};l=new (c('URI'))().setPath('/').setQueryData(n).setFragment(l.getUnqualifiedURI().toString());j=l.toString();}if(k){i.replace(j);}else if(i.href==j){i.reload();}else i.href=j;}f.exports=h;},null);
__d('AjaxPipeRequest',['Arbiter','AsyncRequest','BigPipe','CSS','DOM','Env','PageEvents','PageletSet','ScriptPathState','URI','ge','goOrReplace','performance','performanceAbsoluteNow'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h,i=0;function j(m,n){var o=c('ge')(m);if(!o)return;if(!n)o.style.minHeight='100px';var p=c('PageletSet').getPageletIDs();for(var q=0;q<p.length;q++){var r=p[q];if(c('DOM').contains(o,r))c('PageletSet').removePagelet(r);}c('DOM').empty(o);c('Arbiter').inform('pagelet/destroy',{id:null,root:o});}function k(m,n){var o=c('ge')(m);if(o&&!n)o.style.minHeight='100px';}function l(m,n){'use strict';this._uri=m;this._query_data=n;this._request=new (c('AsyncRequest'))();this._canvas_id=null;this._allow_cross_page_transition=true;this._arbiter=new (c('Arbiter'))();this._requestID=i++;}l.prototype.setCanvasId=function(m){'use strict';this._canvas_id=m;return this;};l.prototype.setURI=function(m){'use strict';this._uri=m;return this;};l.prototype.setData=function(m){'use strict';this._query_data=m;return this;};l.prototype.getData=function(m){'use strict';return this._query_data;};l.prototype.setAllowCrossPageTransition=function(m){'use strict';this._allow_cross_page_transition=m;return this;};l.prototype.setAppend=function(m){'use strict';this._append=m;return this;};l.prototype.send=function(){'use strict';this._arbiter.inform(c('PageEvents').AJAXPIPE_SEND,{rid:this._requestID,quickling:!!this._isQuickling,ts:c('performanceAbsoluteNow')()},c('Arbiter').BEHAVIOR_PERSISTENT);var m={ajaxpipe:1,ajaxpipe_token:c('Env').ajaxpipe_token};Object.assign(m,c('ScriptPathState').getParams());c('ScriptPathState').reset();this._request.setOption('useIframeTransport',true).setURI(this._uri).setData(Object.assign(m,this._query_data)).setPreBootloadHandler(this._preBootloadHandler.bind(this)).setInitialHandler(this._onInitialResponse.bind(this)).setHandler(this._onResponse.bind(this)).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(this._allow_cross_page_transition).setAllowIrrelevantRequests(this._allowIrrelevantRequests);if(this._automatic){this._relevantRequest=h;}else h=this._request;if(this._isQuickling){var n=c('performance').clearResourceTimings||c('performance').webkitClearResourceTimings;if(n)n.call(c('performance'));}this._request.send();return this;};l.prototype._preBootloadFirstResponse=function(m){'use strict';return false;};l.prototype._fireDomContentCallback=function(){'use strict';this._arbiter.inform(c('PageEvents').AJAXPIPE_DOMREADY,true,c('Arbiter').BEHAVIOR_STATE);};l.prototype._fireOnloadCallback=function(){'use strict';if(window.console&&console.timeStamp)console.timeStamp('perf_trace {"name": "e2e",'+' "parent": "PageEvents.AJAXPIPE_ONLOAD"}');this._arbiter.inform(c('PageEvents').AJAXPIPE_ONLOAD,{lid:this.pipe.lid,rid:this._requestID,ts:c('performanceAbsoluteNow')()},c('Arbiter').BEHAVIOR_STATE);};l.prototype._isRelevant=function(m){'use strict';return this._request==h||this._automatic&&this._relevantRequest==h||this._jsNonBlock||h&&h._allowIrrelevantRequests;};l.prototype._preBootloadHandler=function(m){'use strict';var n=m.getPayload();if(!n||n.redirect||!this._isRelevant(m))return false;var o=false;if(m.is_first){!this._append&&!this._displayCallback&&j(this._canvas_id,this._constHeight);o=this._preBootloadFirstResponse(m);this.pipe=new (c('BigPipe'))({arbiter:this._arbiter,rootNodeID:this._canvas_id,lid:this._request.lid,rid:this._requestID,isAjax:true,domContentCallback:this._fireDomContentCallback.bind(this),onloadCallback:this._fireOnloadCallback.bind(this),domContentEvt:c('PageEvents').AJAXPIPE_DOMREADY,onloadEvt:c('PageEvents').AJAXPIPE_ONLOAD,jsNonBlock:this._jsNonBlock,automatic:this._automatic,displayCallback:this._displayCallback,allowIrrelevantRequests:this._allowIrrelevantRequests});}return o;};l.prototype._redirect=function(m){'use strict';if(m.redirect){if(m.force||!this.isPageActive(m.redirect)){var n=['ajaxpipe','ajaxpipe_token'].concat(this.getSanitizedParameters());c('goOrReplace')(window.location,new (c('URI'))(m.redirect).removeQueryData(n),true);}else{var o=b.PageTransitions;o.go(m.redirect,true);}return true;}else return false;};l.prototype.isPageActive=function(m){'use strict';return true;};l.prototype.getSanitizedParameters=function(){'use strict';return [];};l.prototype._versionCheck=function(m){'use strict';return true;};l.prototype._onInitialResponse=function(m){'use strict';var n=m.getPayload();if(!this._isRelevant(m))return false;if(!n)return true;if(this._redirect(n)||!this._versionCheck(n))return false;return true;};l.prototype._processFirstResponse=function(m){'use strict';var n=m.getPayload();if(c('ge')(this._canvas_id)&&n.canvas_class!=null)c('CSS').setClass(this._canvas_id,n.canvas_class);};l.prototype.setFirstResponseCallback=function(m){'use strict';this._firstResponseCallback=m;return this;};l.prototype.setFirstResponseHandler=function(m){'use strict';this._processFirstResponse=m;return this;};l.prototype._onResponse=function(m){'use strict';var n=m.payload;if(!this._isRelevant(m))return c('AsyncRequest').suppressOnloadToken;if(m.is_first){this._processFirstResponse(m);this._firstResponseCallback&&this._firstResponseCallback();n.provides=n.provides||[];n.provides.push('uipage_onload');}if(n){if('content' in n.content&&this._canvas_id!==null){if(this._append)n.append=this._canvas_id;var o=n.content.content;delete n.content.content;n.content[this._canvas_id]=o;}if(n.secondFlushResources||n.secondFlushHashes){this.pipe.setSecondFlushResources(n.secondFlushResources,n.secondFlushHashes);}else this.pipe.onPageletArrive(n);}if(m.is_last)k(this._canvas_id,this._constHeight);return c('AsyncRequest').suppressOnloadToken;};l.prototype.setNectarModuleDataSafe=function(m){'use strict';this._request.setNectarModuleDataSafe(m);return this;};l.prototype.setFinallyHandler=function(m){'use strict';this._request.setFinallyHandler(m);return this;};l.prototype.setErrorHandler=function(m){'use strict';this._request.setErrorHandler(m);return this;};l.prototype.setTransportErrorHandler=function(m){'use strict';this._request.setTransportErrorHandler(m);return this;};l.prototype.abort=function(){'use strict';this._request.abort();if(h==this._request)h=null;this._request=null;return this;};l.prototype.setJSNonBlock=function(m){'use strict';this._jsNonBlock=m;return this;};l.prototype.setAutomatic=function(m){'use strict';this._automatic=m;return this;};l.prototype.setDisplayCallback=function(m){'use strict';this._displayCallback=m;return this;};l.prototype.setConstHeight=function(m){'use strict';this._constHeight=m;return this;};l.prototype.setAllowIrrelevantRequests=function(m){'use strict';this._allowIrrelevantRequests=m;return this;};l.prototype.getAsyncRequest=function(){'use strict';return this._request;};l.getCurrentRequest=function(){'use strict';return h;};l.setCurrentRequest=function(m){'use strict';h=m;};f.exports=l;},null);
__d('DocumentTitle',['Arbiter'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=document.title,i=null,j=1500,k=[],l=0,m=null,n=false;function o(){if(k.length>0){if(!n){p(k[l].title);l=++l%k.length;}else q();}else{clearInterval(m);m=null;q();}}function p(s){document.title=s;n=true;}function q(){r.set(i||h,true);n=false;}var r={get:function(){return h;},set:function(s,t){document.title=s;if(!t){h=s;i=null;c('Arbiter').inform('update_title',s);}else i=s;},blink:function(s){var t={title:s};k.push(t);if(m===null)m=setInterval(o,j);return {stop:function(){var u=k.indexOf(t);if(u>=0){k.splice(u,1);if(l>u){l--;}else if(l==u&&l==k.length)l=0;}}};}};f.exports=r;},null);
__d('MenuDeprecated',['Event','Arbiter','CSS','DataStore','DOM','HTML','Keys','Parent','Style','UserAgent_DEPRECATED','emptyFunction','Run'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='menu:mouseover',i=null;function j(t){if(c('CSS').hasClass(t,'uiMenuContainer'))return t;return c('Parent').byClass(t,'uiMenu');}function k(t){return c('Parent').byClass(t,'uiMenuItem');}function l(t){if(document.activeElement){var u=k(document.activeElement);return t.indexOf(u);}return -1;}function m(t){return c('DOM').find(t,'a.itemAnchor');}function n(t){return c('CSS').hasClass(t,'checked');}function o(t){return !c('CSS').hasClass(t,'disabled')&&c('Style').get(t,'display')!=='none';}function p(event){var t=document.activeElement;if(!t||!c('Parent').byClass(t,'uiMenu')||!c('DOM').isInputNode(t)){var u=k(event.getTarget());u&&s.focusItem(u);}}function q(t){c('UserAgent_DEPRECATED').firefox()&&m(t).blur();s.inform('select',{menu:j(t),item:t});}var r=function(){r=c('emptyFunction');var t={};t.click=function(event){var u=k(event.getTarget());if(u&&o(u)){q(u);var v=m(u),w=v.href,x=v.getAttribute('rel');return x&&x!=='ignore'||w&&w.charAt(w.length-1)!=='#';}};t.keydown=function(event){var u=event.getTarget();if(event.getModifiers().any)return;if(!i||c('DOM').isInputNode(u))return;var v=c('Event').getKeyCode(event),w;switch(v){case c('Keys').UP:case c('Keys').DOWN:var x=s.getEnabledItems(i);w=l(x);s.focusItem(x[w+(v===c('Keys').UP?-1:1)]);return false;case c('Keys').SPACE:var y=k(u);if(y){q(y);event.prevent();}break;default:var z=String.fromCharCode(v).toLowerCase(),aa=s.getEnabledItems(i);w=l(aa);var ba=w,ca=aa.length;while(~w&&(ba=++ba%ca)!==w||!~w&&++ba<ca){var da=s.getItemLabel(aa[ba]);if(da&&da.charAt(0).toLowerCase()===z){s.focusItem(aa[ba]);return false;}}}};c('Event').listen(document.body,t);},s=Object.assign(new (c('Arbiter'))(),{focusItem:function(t){if(t&&o(t)){this._removeSelected(j(t));c('CSS').addClass(t,'selected');m(t).focus();}},getEnabledItems:function(t){return s.getItems(t).filter(o);},getCheckedItems:function(t){return s.getItems(t).filter(n);},getItems:function(t){return c('DOM').scry(t,'li.uiMenuItem');},getItemLabel:function(t){return t.getAttribute('data-label',2)||'';},isItemChecked:function(t){return c('CSS').hasClass(t,'checked');},autoregister:function(t,u,v){t.subscribe('show',function(){s.register(u,v);});t.subscribe('hide',function(){s.unregister(u);});},register:function(t,u){t=j(t);r();if(!c('DataStore').get(t,h))c('DataStore').set(t,h,c('Event').listen(t,'mouseover',p));if(u!==false)i=t;},setItemEnabled:function(t,u){if(!u&&!c('DOM').scry(t,'span.disabledAnchor')[0])c('DOM').appendContent(t,c('DOM').create('span',{className:c('DOM').find(t,'a').className+' disabledAnchor'},c('HTML')(m(t).innerHTML)));c('CSS').conditionClass(t,'disabled',!u);},toggleItem:function(t){var u=!s.isItemChecked(t);s.setItemChecked(t,u);},setItemChecked:function(t,u){c('CSS').conditionClass(t,'checked',u);m(t).setAttribute('aria-checked',u);},unregister:function(t){t=j(t);var u=c('DataStore').remove(t,h);u&&u.remove();i=null;this._removeSelected(t);},_removeSelected:function(t){s.getItems(t).filter(function(u){return c('CSS').hasClass(u,'selected');}).forEach(function(u){c('CSS').removeClass(u,'selected');});}});f.exports=s;},null);
__d('XUIError',['cx','invariant','Promise','ARIA','Bootloader','CSS','DataStore','DOM','Event','Parent','filterObject','getActiveElement','getElementText','isNode','memoize','nl2br'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j='data-xui-error-alignh',k='XUIError',l='data-xui-error',m="_1tp7",n='data-xui-error-position';c('Event').listen(document.documentElement,'mouseover',function(event){if(c('Parent').byClass(c('getActiveElement')(),m))return;var aa=c('Parent').byClass(event.getTarget(),m);if(aa){w(aa);}else x();});c('Event').listen(document.documentElement,'focusin',function(event){var aa=c('Parent').byClass(event.getTarget(),m);if(aa){w(aa);}else x();});c('Event').listen(document.documentElement,'focusout',function(event){x();});var o=c('memoize')(function(){return new (c('Promise'))(function(aa,ba){c('Bootloader').loadModules(["React","ReactDOM","XUIErrorDialogImpl"],function(ca,da,ea){aa(babelHelpers['extends']({React:ca,ReactDOM:da},ea.getNewDialog()));},'XUIError');});}),p=null;function q(aa){return babelHelpers['extends']({message:aa.getAttribute(l),position:aa.getAttribute(n),alignh:aa.getAttribute(j)},c('DataStore').get(aa,k));}function r(aa,ba){c('DataStore').set(aa,k,ba);}function s(aa,ba){c('DataStore').set(aa,k,babelHelpers['extends']({},c('DataStore').get(aa,k),ba));}function t(aa){c('DataStore').remove(aa,k);}var u=false,v=false;function w(aa){o().done(function(ba){var ca=ba.React,da=ba.ReactDOM,ea=ba.dialog,fa=ba.dialogMessageNode,ga=q(aa),ha=ga.message;if(ha==null)return;var ia=ca.isValidElement(ha);if(u&&!ia)da.unmountComponentAtNode(fa);if(ia){da.render(ha,fa);}else{!(typeof ha==='string'||c('isNode')(ha))?i(0):void 0;if(typeof ha==='string')ha=c('nl2br')(ha);c('DOM').setContent(fa,ha);}u=ia;ea.setContext(aa).setPosition(ga.position||'right').setAlignment(ga.alignh||(ga.position==='above'||ga.position==='below'?'right':null)).show();c('ARIA').notify(c('getElementText')(fa));p=aa;});v=true;}function x(){if(!v)return;o().done(function(aa){var ba=aa.React,ca=aa.ReactDOM,da=aa.dialog,ea=aa.dialogMessageNode;if(!p)return;if(u){ca.unmountComponentAtNode(ea);u=false;}da.hide();p=null;});}function y(aa){if(c('DOM').contains(aa,c('getActiveElement')()))w(aa);}var z={set:function(aa){var ba=aa.target,ca=aa.message,da=aa.position,ea=aa.alignh;!(ca!==null)?i(0):void 0;c('CSS').addClass(ba,m);s(ba,c('filterObject')({message:ca,position:da,alignh:ea},function(fa){return fa!==undefined;}));y(ba);},clear:function(aa){c('CSS').removeClass(aa,m);aa.removeAttribute(l);t(aa);if(aa===p)x();},updatePosition:function(){if(!v)return;o().done(function(aa){var ba=aa.dialog;if(p)ba.updatePosition();});},__setReactError:function(aa,ba){var ca=ba.message,da=ba.position,ea=ba.alignh;!(ca!==null)?i(0):void 0;r(aa,{message:ca,position:da,alignh:ea});y(aa);},__clearReactError:function(aa){t(aa);if(aa===p)x();}};f.exports=z;},null);
__d('LikeConfirmer',['AsyncDialog','AsyncRequest'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=false,i=false,j={likeContent:function(){},like:function(k,l){this.likeContent=k;if(i)return;if(h){this.likeContent();}else{var m=new (c('AsyncRequest'))().setURI('/like/confirm_like.php').setRelativeTo(l);c('AsyncDialog').send(m,function(n){i=true;n.subscribe('hide',this.onCloseLikeConfirmDialog.bind(this));n.setCausalElement(l);}.bind(this));}return false;},isShowingConfirmation:function(){return i;},onCloseLikeConfirmDialog:function(){i=false;},likeSkipConfirmation:function(k){h=k;this.likeContent();}};f.exports=j;},null);
__d("UIPageletContentCache",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={cache:{},getContent:function(i){if(i in this.cache)return this.cache[i];return null;},setContent:function(i,j){this.cache[i]=j;}};f.exports=h;},null);
__d('UIPagelet',['ActorURI','AjaxPipeRequest','AsyncRequest','DOM','HTML','ScriptPathState','UIPageletContentCache','URI','emptyFunction','ge','isElementNode'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){'use strict';var l=i&&c('isElementNode')(i)?i.id:i;this._id=l||null;this._element=c('ge')(i||c('DOM').create('div'));this._src=j||null;this._context_data=k||{};this._data={};this._handler=c('emptyFunction');this._request=null;this._use_ajaxpipe=false;this._use_post_request=false;this._is_bundle=true;this._allow_cross_page_transition=false;this._append=false;this._cache_content=false;this._content_cache_key='';}h.prototype.getElement=function(){'use strict';return this._element;};h.prototype.setHandler=function(i){'use strict';this._handler=i;return this;};h.prototype.go=function(i,j){'use strict';if(arguments.length>=2||typeof i=='string'){this._src=i;this._data=j||{};}else if(arguments.length==1)this._data=i;this.refresh();return this;};h.prototype.setAllowCrossPageTransition=function(i){'use strict';this._allow_cross_page_transition=i;return this;};h.prototype.setBundleOption=function(i){'use strict';this._is_bundle=i;return this;};h.prototype.setErrorHandler=function(i){'use strict';this._errorHandler=i;return this;};h.prototype.setTransportErrorHandler=function(i){'use strict';this.transportErrorHandler=i;return this;};h.prototype.refresh=function(){'use strict';if(this._use_ajaxpipe){c('ScriptPathState').setIsUIPageletRequest(true);this._request=new (c('AjaxPipeRequest'))();this._request.setCanvasId(this._id).setAppend(this._append).setConstHeight(this._constHeight).setJSNonBlock(this._jsNonblock).setAutomatic(this._automatic).setDisplayCallback(this._displayCallback).setFinallyHandler(this._finallyHandler).setAllowIrrelevantRequests(this._allowIrrelevantRequests);if(this._errorHandler)this._request.setErrorHandler(this._errorHandler);if(this.transportErrorHandler)this._request.setTransportErrorHandler(this.transportErrorHandler);}else{if(this._cache_content){var i=c('UIPageletContentCache').getContent(this._content_cache_key);if(i!==null){this.handleContent(i);return this;}}var j=function(n){this._request=null;var o=c('HTML')(n.getPayload());this.handleContent(o);if(this._cache_content)c('UIPageletContentCache').setContent(this._content_cache_key,o);}.bind(this),k=this._displayCallback,l=this._finallyHandler;this._request=new (c('AsyncRequest'))().setMethod('GET').setReadOnly(true).setOption('bundle',this._is_bundle).setHandler(function(n){if(k){k(j.bind(null,n));}else j(n);l&&l();});if(this._errorHandler)this._request.setErrorHandler(this._errorHandler);if(this.transportErrorHandler)this._request.setTransportErrorHandler(this.transportErrorHandler);if(this._use_post_request)this._request.setMethod('POST');}var m=babelHelpers['extends']({},this._context_data,this._data);if(this._actorID)m[c('ActorURI').PARAMETER_ACTOR]=this._actorID;this._request.setURI(this._src).setAllowCrossPageTransition(this._allow_cross_page_transition).setData({data:JSON.stringify(m)}).send();return this;};h.prototype.handleContent=function(i){'use strict';if(this._append){c('DOM').appendContent(this._element,i);}else c('DOM').setContent(this._element,i);this._handler();};h.prototype.cancel=function(){'use strict';if(this._request)this._request.abort();};h.prototype.setUseAjaxPipe=function(i){'use strict';this._use_ajaxpipe=!!i;return this;};h.prototype.setUsePostRequest=function(i){'use strict';this._use_post_request=!!i;return this;};h.prototype.setAppend=function(i){'use strict';this._append=!!i;return this;};h.prototype.setJSNonBlock=function(i){'use strict';this._jsNonblock=!!i;return this;};h.prototype.setAutomatic=function(i){'use strict';this._automatic=!!i;return this;};h.prototype.setDisplayCallback=function(i){'use strict';this._displayCallback=i;return this;};h.prototype.setConstHeight=function(i){'use strict';this._constHeight=!!i;return this;};h.prototype.setFinallyHandler=function(i){'use strict';this._finallyHandler=i;return this;};h.prototype.setAllowIrrelevantRequests=function(i){'use strict';this._allowIrrelevantRequests=i;return this;};h.prototype.setActorID=function(i){'use strict';this._actorID=i;return this;};h.prototype.setCacheContent=function(i){'use strict';this._cache_content=i;return this;};h.prototype.setContentCacheKey=function(i){'use strict';this._content_cache_key=i;return this;};h.appendToInline=function(i,j){'use strict';var k=c('ge')(i),l=c('ge')(j);if(k&&l){while(l.firstChild)c('DOM').appendContent(k,l.firstChild);c('DOM').remove(l);}};h.loadFromEndpoint=function(i,j,k,l){'use strict';l=l||{};var m='/ajax/pagelet/generic.php/'+i;if(l.intern)m='/intern'+m;var n=new (c('URI'))(m.replace(/\/+/g,'/'));if(l.subdomain)n.setSubdomain(l.subdomain);var o=false,p='';if(l.contentCacheKey){o=true;p=i+','+String(l.contentCacheKey);}var q=new h(j,n,k).setUseAjaxPipe(l.usePipe).setBundleOption(l.bundle!==false).setAppend(l.append).setJSNonBlock(l.jsNonblock).setAutomatic(l.automatic).setDisplayCallback(l.displayCallback).setConstHeight(l.constHeight).setAllowCrossPageTransition(l.crossPage).setFinallyHandler(l.finallyHandler||c('emptyFunction')).setErrorHandler(l.errorHandler).setTransportErrorHandler(l.transportErrorHandler).setAllowIrrelevantRequests(l.allowIrrelevantRequests).setActorID(l.actorID).setCacheContent(o).setContentCacheKey(p).setUsePostRequest(l.usePostRequest);l.handler&&q.setHandler(l.handler);q.go();return q;};h.loadFromEndpointBatched=function(i,j,k){'use strict';var l=i.slice(0,k),m=i.slice(k);if(m.length>0){var n=l[l.length-1],o=c('emptyFunction');if(n.options&&n.options.finallyHandler)o=n.options.finallyHandler;n.options=babelHelpers['extends']({},n.options,{finallyHandler:function(){o();window.setTimeout(function(){h.loadFromEndpointBatched(m,j,k);},1);}});}l.forEach(function(p){h.loadFromEndpoint(p.controller,p.target_element,p.data,babelHelpers['extends']({},p.options,j,{bundle:true}));});};f.exports=h;},null);